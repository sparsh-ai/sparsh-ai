<!DOCTYPE html>
<html lang="en">

<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5F9Y9HC95G"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-5F9Y9HC95G');
</script>
<script data-ad-client="ca-pub-8325812071117232" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- iOS Safari -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- Chrome, Firefox OS and Opera Status Bar Color -->
  <meta name="theme-color" content="#FFFFFF">
  <meta property="og:title" content="Web Scraping using Scrapy, BS4, and Selenium,_,">
    <meta property="og:type" content="blog">
  <title>Web Scraping using Scrapy, BS4, and Selenium,_,</title>
<link rel="icon" href="⚡"/>
  <!-- Favicon -->
    <link rel="shortcut icon" target="_blank" href="⚡">
    <link rel="stylesheet" type="text/css" target="_blank" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
  <link rel="stylesheet" type="text/css"
    target="_blank" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
  <link rel="stylesheet" type="text/css" target="_blank" href="css/SourceSansPro.css">
  <link rel="stylesheet" type="text/css" target="_blank" href="css/notablog.css">
  <link rel="stylesheet" type="text/css" target="_blank" href="css/theme.css">
  <style>
    :root {
      font-size: 18px;
    }

    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
    <a href="index">
      <div class="Navbar__Btn"><span>⚡</span> <span>Home</span></div>
    </a>
                                                                                                                                                                                                                                                                                                                                                                                                                                              </nav>
  <header class="Header">
          <div class="Header__Cover">
        <img src="https://www.notion.so/images/page-cover/solid_red.png">
      </div>
          <div class="Header__Spacer ">
    </div>
        <div class="Header__Icon"><span><img class="inline-img-icon" src="https://super.so/icon/dark/airplay.svg"></span></div>
        <h1 class="Header__Title">Web Scraping using Scrapy, BS4, and Selenium,_,</h1>
            <div class="DateTagBar">
                <span class="DateTagBar__Item DateTagBar__Date">Posted on Mon, Jan 11, 2021</span>
                          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--pink">
            <a target="_blank" href="tag/Web scraping">Web scraping</a>
          </span>
                <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--brown">
            <a target="_blank" href="tag/Scrapy">Scrapy</a>
          </span>
                <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--default">
            <a target="_blank" href="tag/Selenium">Selenium</a>
          </span>
                  </div>
          </header>
      <article id="https://www.notion.so/a366c8c1e55b4c91b496e6daa1504ff0" class="PageRoot"><ol class="NumberedListWrapper"><li id="https://www.notion.so/e16ed6a07be4412ca078dd52309657b7" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">Handling single request &amp; response by extracting a city’s weather from a weather site using Scrapy</span></span></li><li id="https://www.notion.so/e1beb65fd7e64ad2af6dc8250321fbd5" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">Handling multiple request &amp; response by extracting book details from a dummy online book store using Scrapy</span></span></li><li id="https://www.notion.so/b57ee30de46e4f8aac7d015568c416f8" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">Scrape the cover images of all the books from the website </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" target="_blank" href="http://books.toscrape.com/">books.toscrape.com</a></span><span class="SemanticString"> using Scrapy</span></span></li><li id="https://www.notion.so/e39475ec01354dcca09a57fd52e5717c" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString">Logging into Facebook using Selenium</span></span></li><li id="https://www.notion.so/5827d0769e804d1594acd03761a5319f" class="NumberedList" value="5"><span class="SemanticStringArray"><span class="SemanticString">Extract PM2.5 data from </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" target="_blank" href="http://openaq.org">openaq.org</a></span><span class="SemanticString"> using Selenium</span></span></li><li id="https://www.notion.so/44fe44de8b8146868f6a1af7223aee8a" class="NumberedList" value="6"><span class="SemanticStringArray"><span class="SemanticString">Extract PM2.5 data from </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" target="_blank" href="http://openaq.org">openaq.org</a></span><span class="SemanticString"> using Selenium Scrapy</span></span></li></ol><div id="https://www.notion.so/698a2807bccf4180b1ef6564a8393f79" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/78936124b6994474b534a8501e346cb6" class="ColorfulBlock ColorfulBlock--BgYellow Callout"><div class="Callout__Icon"><div class="Icon">❓</div></div><p class="Callout__Content"><span class="SemanticStringArray"><span class="SemanticString">Scrapy vs. Selenium  - Selenium is an automation tool for testing web applications. It uses a webdriver as an interface to control webpages through programming languages. So, this gives Selenium the capability to handle dynamic webpages effectively. Selenium is capable of extracting data on its own. It is true, but it has its caveats. Selenium cannot handle large data, but Scrapy can handle large data with ease. Also, Selenium is much slower when compared to Scrapy. So, the smart choice would be to use Selenium with Scrapy to scrape dynamic webpages containing large data, consuming less time. Combining Selenium with Scrapy is a simpler process. All that needs to be done is let Selenium render the webpage and once it is done, pass the webpage’s source to create a Scrapy Selector object. And from here on, Scrapy can crawl the page with ease and effectively extract a large amount of data.</span></span></p></div><pre id="https://www.notion.so/3b1255dc167f4203afdfb515542f041d" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token comment"># SKELETON FOR COMBINING SELENIUM WITH SCRAPY</span>
<span class="token keyword">from</span> scrapy <span class="token keyword">import</span> Selector
<span class="token comment"># Other Selenium and Scrapy imports</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Selenium tasks and actions to render the webpage with required content</span>
selenium_response_text <span class="token operator">=</span> driver<span class="token punctuation">.</span>page_source
new_selector <span class="token operator">=</span> Selector<span class="token punctuation">(</span>text<span class="token operator">=</span>selenium_response_text<span class="token punctuation">)</span>
<span class="token comment"># Scrapy tasks to extract data from Selector</span></span></span></span></code></pre><div id="https://www.notion.so/96110e4e7c644423962501450c864617" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/2d3628270435467eab44dae7c277dca2" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" target="_blank" href="#https://www.notion.so/2d3628270435467eab44dae7c277dca2"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Project tree</span></span></h2><pre id="https://www.notion.so/641c86879cca4956972fde7ca8d2370c" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>.
├── airQuality
│   ├── countries_list.json
│   ├── get_countries.py
│   ├── get_pm_data.py
│   ├── get_urls.py
│   ├── openaq_data.json
│   ├── openaq_scraper.py
│   ├── README.md
│   └── urls.json
├── airQualityScrapy
│   ├── LICENSE
│   ├── openaq
│   │   ├── countries_list.json
│   │   ├── openaq
│   │   │   ├── __init__.py
│   │   │   ├── items.py
│   │   │   ├── middlewares.py
│   │   │   ├── pipelines.py
│   │   │   ├── settings.py
│   │   │   └── spiders
│   │   ├── output.json
│   │   ├── README.md
│   │   ├── scrapy.cfg
│   │   └── urls.json
│   ├── performance_comparison
│   │   ├── performance_comparison
│   │   │   ├── __init__.py
│   │   │   ├── items.py
│   │   │   ├── middlewares.py
│   │   │   ├── pipelines.py
│   │   │   ├── settings.py
│   │   │   └── spiders
│   │   ├── README.md
│   │   ├── scrapy.cfg
│   │   ├── scrapy_output.json
│   │   └── selenium_scraper
│   │       ├── bts_scraper.py
│   │       ├── selenium_output.json
│   │       └── urls.json
│   └── README.md
├── books
│   ├── books
│   │   ├── __init__.py
│   │   ├── items.py
│   │   ├── middlewares.py
│   │   ├── pipelines.py
│   │   ├── settings.py
│   │   └── spiders
│   │       ├── book_spider.py
│   │       ├── crawl_spider.py
│   │       └── __init__.py
│   ├── crawl_spider_output.json
│   ├── README.md
│   └── scrapy.cfg
├── booksCoverImage
│   ├── booksCoverImage
│   │   ├── __init__.py
│   │   ├── items.py
│   │   ├── middlewares.py
│   │   ├── pipelines.py
│   │   ├── settings.py
│   │   └── spiders
│   │       ├── image_crawl_spider.py
│   │       └── __init__.py
│   ├── output.json
│   ├── path
│   │   └── to
│   │       └── store
│   ├── README.md
│   └── scrapy.cfg
├── etc
│   └── Selenium
│       ├── chromedriver.exe
│       ├── chromedriver_v87.exe
│       └── install.sh
├── facebook
│   └── login.py
├── gazpacho1
│   ├── data
│   │   ├── media
│   │   ├── ocr
│   │   ├── page
│   │   ├── static
│   │   │   └── stheno.mp4
│   │   └── table
│   ├── media
│   │   ├── euryale.png
│   │   ├── medusa.mp3
│   │   ├── medusa.png
│   │   ├── stheno.mp4
│   │   └── test.png
│   ├── scrap_login.py
│   ├── scrap_media.py
│   ├── scrap_ocr.py
│   ├── scrap_page.py
│   └── scrap_table.py
├── houzzdotcom
│   ├── houzzdotcom
│   │   ├── __init__.py
│   │   ├── items.py
│   │   ├── middlewares.py
│   │   ├── pipelines.py
│   │   ├── settings.py
│   │   └── spiders
│   │       ├── crawl_spider.py
│   │       └── __init__.py
│   └── scrapy.cfg
├── media
│   └── test.png
├── README.md
├── scrapyPractice
│   ├── scrapy.cfg
│   └── scrapyPractice
│       ├── __init__.py
│       ├── items.py
│       ├── middlewares.py
│       ├── pipelines.py
│       ├── settings.py
│       └── spiders
│           └── __init__.py
└── weather
    ├── output.json
    ├── README.md
    ├── scrapy.cfg
    └── weather
        ├── __init__.py
        ├── items.py
        ├── middlewares.py
        ├── pipelines.py
        ├── settings.py
        └── spiders
            ├── __init__.py
            └── weather_spider.py

35 directories, 98 files</span></span></span></code></pre><div id="https://www.notion.so/923d2fac78dc4bc98ab3cb27e67c2840" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/8a1dfe7517f145bc83eef6043319f610" class="Image Image--PageWidth"><figure><a target="_blank" href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fcf721714-8694-4a6e-aeb6-51eac5f349e8%2FUntitled.png?width=1292&amp;table=block&amp;id=8a1dfe75-17f1-45bc-83ee-f6043319f610"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fcf721714-8694-4a6e-aeb6-51eac5f349e8%2FUntitled.png?width=1292&amp;table=block&amp;id=8a1dfe75-17f1-45bc-83ee-f6043319f610" style="width:100%"/></a><figcaption><span class="SemanticStringArray"><span class="SemanticString">For code, drop me a message on mail or LinkedIn.</span></span></figcaption></figure></div></article>  <footer class="Footer">
        <div>&copy; Sparsh Agarwal 2021</div>
        <div>&centerdot;</div>
        <div>Powered by <a target="_blank" href="https://github.com/dragonman225/notablog" target="_blank"
            rel="noopener noreferrer">Notablog</a>.
        </div>
    </footer>
</body>

</html>