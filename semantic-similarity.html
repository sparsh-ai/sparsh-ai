<!DOCTYPE html>
<html lang="en">

<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5F9Y9HC95G"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-5F9Y9HC95G');
</script>
<script data-ad-client="ca-pub-8325812071117232" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- iOS Safari -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- Chrome, Firefox OS and Opera Status Bar Color -->
  <meta name="theme-color" content="#FFFFFF">
  <meta property="og:title" content="Semantic Similarity">
    <meta property="og:type" content="blog">
  <title>Semantic Similarity</title>
<link rel="icon" href="⚡"/>
  <!-- Favicon -->
    <link rel="shortcut icon" target="_blank" href="⚡">
    <link rel="stylesheet" type="text/css" target="_blank" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
  <link rel="stylesheet" type="text/css"
    target="_blank" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
  <link rel="stylesheet" type="text/css" target="_blank" href="css/SourceSansPro.css">
  <link rel="stylesheet" type="text/css" target="_blank" href="css/notablog.css">
  <link rel="stylesheet" type="text/css" target="_blank" href="css/theme.css">
  <style>
    :root {
      font-size: 18px;
    }

    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
    <a href="index">
      <div class="Navbar__Btn"><span>⚡</span> <span>Home</span></div>
    </a>
                                                                                                                                                                                                                                                                                                                                                                              </nav>
  <header class="Header">
          <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
        <h1 class="Header__Title">Semantic Similarity</h1>
            <div class="DateTagBar">
                <span class="DateTagBar__Item DateTagBar__Date">Posted on Fri, Jan 8, 2021</span>
                          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--gray">
            <a target="_blank" href="tag/NLP">NLP</a>
          </span>
                  </div>
          </header>
      <article id="https://www.notion.so/0354d20f65c84881899b647b159ecb05" class="PageRoot"><div id="https://www.notion.so/9aec39cfbf7b48ae8b75b14c958646c8" class="Image Image--PageWidth"><figure><a target="_blank" href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F0dbf0092-c2e0-4fd9-9329-f4b383c9fdbe%2FUntitled.png?width=715&amp;table=block&amp;id=9aec39cf-bf7b-48ae-8b75-b14c958646c8"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F0dbf0092-c2e0-4fd9-9329-f4b383c9fdbe%2FUntitled.png?width=715&amp;table=block&amp;id=9aec39cf-bf7b-48ae-8b75-b14c958646c8" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h1 id="https://www.notion.so/a71b2091bca44450b6a0563b435d593f" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" target="_blank" href="#https://www.notion.so/a71b2091bca44450b6a0563b435d593f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Introduction</span></span></h1><div id="https://www.notion.so/b3282f16e2cc4aa18b140082223629d0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Deliverable - Two paragraph-level distance outputs for L and Q, each has 35 columns. </span></span></p></div><div id="https://www.notion.so/6cc8a2cf67944839ae6a9ecf83697ae6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">For each paragraph, we need to calculate the L1 distance of consecutive sentences in this paragraph, and then generate the mean and standard deviation of all these distances for this paragraph. For example, say the paragraph 1 starts from sentence1 and ends with sentence 5. First, calculate the L1 distances for L1(1,2), L1(2,3), L1(3,4) and L1(4,5) and then calculate the mean and standard deviation of the 4 distances. In the end we got two measures for this paragraph: L1_m and L1_std. Similarly, we need to calculate the mean and standard deviation using L2 distance, plus a simple mean and deviation of the distances. We use 6 different embeddings: all dimensions of BERT embeddings, 100,200 and 300 dimensions of PCA Bert embeddings (PCA is a dimension reduction technique </span></span></p></div><div id="https://www.notion.so/705cc91572e4415e92846d7c616021f1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">In the end, we will have 35 columns for each paragraph : Paragraph ID +#sentences in the paragraph +(cosine_m, cosine_std,cossimillarity_m, cosimmilarity_std, L1_m, L1_std, L2_m, L2_std ) – by- ( all, 100, 200, 300)= 3+8*4. </span></span></p></div><div id="https://www.notion.so/8ce49fd417ff49268eee042f05059b0b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Note: for paragraph that only has 1 sentence, the std measures are empty.</span></span></p></div><h1 id="https://www.notion.so/3ee74e41cf644d368f8d429407993d7e" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" target="_blank" href="#https://www.notion.so/3ee74e41cf644d368f8d429407993d7e"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Modeling Approach</span></span></h1><h3 id="https://www.notion.so/4293ea89c44c4b44b37787a7f495eb30" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" target="_blank" href="#https://www.notion.so/4293ea89c44c4b44b37787a7f495eb30"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Process Flow for Use Case 1</span></span></h3><ol class="NumberedListWrapper"><li id="https://www.notion.so/7eac339014f64c32be47f968010923d5" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">Splitting paragraphs into sentences using 1) NLTK Sentence Tokenizer, 2) Spacy Sentence Tokenizer and, on two additional symbols </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">:</code></span><span class="SemanticString"> and </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">...</code></span></span></li><li id="https://www.notion.so/90980f1641ff447096b2527c1bfd6f9d" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">Text Preprocessing: Lowercasing, Removing Non-alphanumeric characters, Removing Null records, Removing sentence records (rows) having less than 3 words.</span></span></li><li id="https://www.notion.so/72c7459d21864e5388fd416b46642d5c" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">TF-IDF vectorization</span></span></li><li id="https://www.notion.so/ecbfda28b7024e6faa5caca08f21f71b" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString">LSA over document-term matrix</span></span></li><li id="https://www.notion.so/967ca69519394be19a62ea3a813bd211" class="NumberedList" value="5"><span class="SemanticStringArray"><span class="SemanticString">Cosine distance calculation of adjacent sentences (rows)</span></span></li></ol><h3 id="https://www.notion.so/a63615280bbf4b2d80f773203a0b81e2" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" target="_blank" href="#https://www.notion.so/a63615280bbf4b2d80f773203a0b81e2"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Process Flow for Use Case 2</span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/eb4ce74265324bb2b7a9ea6e96c1b3e8" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Split paragraphs into sentences</span></span></li><li id="https://www.notion.so/13d0db9ac8bc423c84cd3fbf416bb28f" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Text cleaning</span></span></li><li id="https://www.notion.so/79aec4318e7c42c38419900edd17903b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">BERT Sentence Encoding</span></span></li><li id="https://www.notion.so/4cce15ed2dad4a54a942f0c2ebf6c535" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">BERT PCA 100</span></span></li><li id="https://www.notion.so/0c582cfa613c4a6d9207d2530d3368b1" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">BERT PCA 200</span></span></li><li id="https://www.notion.so/5186a98de7694fe5bb4dd623db233f46" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">BERT PCA 300</span></span></li><li id="https://www.notion.so/82aa89334ccc46708ebdeb858bbf19c4" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Calculate distance between consecutive sentences in the paragraph</span></span></li><li id="https://www.notion.so/b213c0b9ed1a4d3aa6bb95b241984c96" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Distances: L1, L2 and Cosine and Cosine similarity</span></span></li><li id="https://www.notion.so/b0547fb1c34b435db17926a0788fe142" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Statistics: Mean, SD</span></span></li></ul><h1 id="https://www.notion.so/903b85bb5e694fbea113b530e1ecb0aa" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" target="_blank" href="#https://www.notion.so/903b85bb5e694fbea113b530e1ecb0aa"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Experimental Setup</span></span></h1><ol class="NumberedListWrapper"><li id="https://www.notion.so/28bd5dc9a7934f559ed1f71e80d91778" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">#IncrementalPCA</span></span></li><li id="https://www.notion.so/d3d22139c501486c902defb363c9ec48" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">GPU to speed up</span></span></li><li id="https://www.notion.so/83cb550fba964cffbd476a7f72d4d130" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">Data chunking</span></span></li><li id="https://www.notion.so/8437766d23ae4b09917b610613832b64" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString">Calculate BERT for a chunk and store in disk</span></span></li></ol></article>  <footer class="Footer">
        <div>&copy; Sparsh Agarwal 2021</div>
        <div>&centerdot;</div>
        <div>Powered by <a target="_blank" href="https://github.com/dragonman225/notablog" target="_blank"
            rel="noopener noreferrer">Notablog</a>.
        </div>
    </footer>
</body>

</html>