<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- iOS Safari -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- Chrome, Firefox OS and Opera Status Bar Color -->
  <meta name="theme-color" content="#FFFFFF">
  <meta property="og:title" content="Text Similarity">
    <meta property="og:type" content="blog">
  <title>Text Similarity</title>
  <!-- Favicon -->
    <link rel="shortcut icon" href="üìù">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
  <link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
  <link rel="stylesheet" type="text/css" href="css/notablog.css">
  <link rel="stylesheet" type="text/css" href="css/theme.css">
  <style>
    :root {
      font-size: 18px;
    }

    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
    <a href="index.html">
      <div class="Navbar__Btn"><span>üìù</span> <span>Home</span></div>
    </a>
                                                                                                                                                                                                                                    <span class="Navbar__Delim">&centerdot;</span>
    <a href="aboutme.html">
      <div class="Navbar__Btn"><span>üì®</span> <span>About Me</span></div>
    </a>
                <span class="Navbar__Delim">&centerdot;</span>
    <a href="extras.html">
      <div class="Navbar__Btn"><span>üìë</span> <span>Extras</span></div>
    </a>
                <span class="Navbar__Delim">&centerdot;</span>
    <a href="archive.html">
      <div class="Navbar__Btn"> <span>Archive</span></div>
    </a>
          </nav>
  <header class="Header">
          <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
        <h1 class="Header__Title">Text Similarity</h1>
            <div class="DateTagBar">
                <span class="DateTagBar__Item DateTagBar__Date">Posted on Sun, Jan 3, 2021</span>
                            </div>
          </header>
      <article id="https://www.notion.so/2ec2a43aacb642008c2d2005c54999a8" class="PageRoot PageRoot--FullWidth"><div id="https://www.notion.so/001729509fee40e5bb96a27f9f506a86" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F278ec0e2-7f3c-41b2-a565-db4e1d00bd90%2Fimg.png?width=960&amp;table=block&amp;id=00172950-9fee-40e5-bb96-a27f9f506a86"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F278ec0e2-7f3c-41b2-a565-db4e1d00bd90%2Fimg.png?width=960&amp;table=block&amp;id=00172950-9fee-40e5-bb96-a27f9f506a86" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/ae09d8c539c94a889262fa217c19fdde" class="Divider"></div><div id="https://www.notion.so/33669217693448d39c1c7920d790b7c7" class="Divider"></div><div id="https://www.notion.so/226c0d273aba4164b7f65264d9889be7" class="ColumnList"><div id="https://www.notion.so/fe3c843c7dec4e6c9f423fc2c499fddd" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><div id="https://www.notion.so/f02f12f139304f8e840ad1508ab9288f" class="ColorfulBlock ColorfulBlock--BgGreen Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Introduction</strong></span></span></p></div><div id="https://www.notion.so/418fec284aa94b0b905ffbbc412f96c6" class="ColorfulBlock ColorfulBlock--ColorGreen Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Definition</span></span></p></div><div id="https://www.notion.so/67ea630b11a44a228ae5fc6a96bd0c70" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Text similarity has to determine how &#x27;close&#x27; two pieces of text are both in surface closeness (lexical similarity) and meaning (semantic similarity)</span></span></p></div><div id="https://www.notion.so/355f3a04b7f84006a706a1ccceff45ea" class="ColorfulBlock ColorfulBlock--ColorGreen Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Applications</span></span></p></div><div id="https://www.notion.so/f0e513a2ee284d7abedccd0d63869aba" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Duplicate document detection, text clustering, product recommendations</span></span></p></div><div id="https://www.notion.so/d17dc79258ed4988a769831baacd806e" class="ColorfulBlock ColorfulBlock--ColorGreen Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Scope</span></span></p></div><div id="https://www.notion.so/3f74bae8186f41fe9399659facd53693" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">No scope decided yet</span></span></p></div><div id="https://www.notion.so/4aa9df535f654e7b87bc5a931fa7216d" class="ColorfulBlock ColorfulBlock--ColorGreen Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Tools</span></span></p></div><div id="https://www.notion.so/b67197f4a17b406bad9597fb6972b680" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Sentence Transformer Library, Universal Sentence Encoder Model (TFHub), Scikit-learn</span></span></p></div></div><div id="https://www.notion.so/d560e77d9c6e410d999fb88d392de715" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><div id="https://www.notion.so/d7f3b8c95b7b443b92c0c40a1bf101ed" class="ColorfulBlock ColorfulBlock--BgPink Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Models</strong></span></span></p></div><div id="https://www.notion.so/c1a2a5fc14484d47a55ba44923430b02" class="ColorfulBlock ColorfulBlock--ColorPink Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Unknown">BERT</span></span></span></p></div><div id="https://www.notion.so/f734fa2530734bb0addc40aa038a9e4a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Use transfer learning to fine-tune a BERT encoder. This encoder will work as a feature extractor. e.g.  the most common version of BERT convert any given text into a numeric vector of length 768 (this vector is also known as contextual embedding).</span></span></p></div><div id="https://www.notion.so/f52a1be37bbb4fe7ac1e3aad82872e5b" class="ColorfulBlock ColorfulBlock--ColorPink Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Unknown">Bag-of-words</span></span></span></p></div><div id="https://www.notion.so/e9d365cc9a294baf840fa68daa87989f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Extract features using models like TF-IDF, CountVectorizer.</span></span></p></div><div id="https://www.notion.so/dabad41448004319982a04ec3f7e5797" class="ColorfulBlock ColorfulBlock--ColorPink Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Unknown">DeepRank</span></span></span></p></div><div id="https://www.notion.so/cd35e96e480e47bf9a1d17ad65b0d398" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://arxiv.org/abs/1710.05649"><em class="SemanticString__Fragment SemanticString__Fragment--Italic">DeepRank: A New Deep Architecture for Relevance Ranking in Information Retrieval. arXiv, 2017.</em></a></span></span></p></div><div id="https://www.notion.so/49d3f5a107654ab0a51c836b2b54e8c1" class="ColorfulBlock ColorfulBlock--ColorPink Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Unknown">FAISS</span></span></span></p></div><div id="https://www.notion.so/742dd2a239854779b328f80f398c18ea" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://arxiv.org/abs/1702.08734"><em class="SemanticString__Fragment SemanticString__Fragment--Italic">Billion-scale similarity search with GPUs. arXiv, 2017.</em></a></span></span></p></div><div id="https://www.notion.so/b0b1696bc0ce4ace920f7de68380bf72" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Faiss is a library for efficient similarity search and clustering of dense vectors.</span></span></p></div><div id="https://www.notion.so/516a986b15904b9e88f8b84746f8c9ea" class="ColorfulBlock ColorfulBlock--ColorPink Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Unknown">Similarity Measures</span></span></span></p></div><div id="https://www.notion.so/b7d8acca03b048d8910d0f688ecbc896" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">L1 (Manhatten distance), L2 (Euclidean distance), Hinge Loss for Triplets.</span></span></p></div></div></div><div id="https://www.notion.so/b40d0d9594344156bbf8258af6df315b" class="Divider"></div><div id="https://www.notion.so/fcf79c9c43b34ba4a933cf9f2d851ae2" class="ColumnList"><div id="https://www.notion.so/20cc68a861984c298a507fcf7a6d87fa" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><div id="https://www.notion.so/470db5dd6ed64709a2e6b745fb8c9b4d" class="ColorfulBlock ColorfulBlock--BgPurple Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Process flow</strong></span></span></p></div><div id="https://www.notion.so/7ee3ae4d3c53400da1067c8402eae3b9" class="ColorfulBlock ColorfulBlock--ColorPurple Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Step 1: Collect Text Data</span></span></p></div><div id="https://www.notion.so/9ee138773c594e029e1db53568a72484" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Fetch the raw text dataset into a directory.</span></span></p></div><div id="https://www.notion.so/cb3f7a6d45464e91a5ed4fc2443a857c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorPurple">Step 2: Encoder Training/Fine-tuning</mark></span></span></p></div><div id="https://www.notion.so/27771af9636a4cb98354b011a733d98f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Download the pre-trained models if available (e.g. BERT model) or train the model from scratch (e.g. TF-IDF model). After training/fine-tuning the model, we will save it as a feature extractor for later use.</span></span></p></div><div id="https://www.notion.so/af48332d0ab1490eb2ce979ec03bc2d4" class="ColorfulBlock ColorfulBlock--ColorPurple Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Step 3: Text Vectorization</span></span></p></div><div id="https://www.notion.so/471ee50c1277499b9656c09c6ecfaa72" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Now, we will use the encoder (prepared in step 2) to encode the text (prepared in step 1). We will save the feature vector of each image as an array in a directory. After processing, we will save these embeddings for later use.</span></span></p></div><div id="https://www.notion.so/4e15db49ee5c4c149dd58dd37ce26f00" class="ColorfulBlock ColorfulBlock--ColorPurple Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Step 4: Metadata and Indexing</span></span></p></div><div id="https://www.notion.so/3458058eeff94c08971dbe3c3ee1d30f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">We will assign a unique id to each text document and create dictionaries to locate information of these documents: 1) Document id to document name dictionary, 2) Document id to document feature vector dictionary, and 3) (optional) Document id to metadata product id dictionary. We will also create a Document id to document feature vector indexing. Then we will save these dictionaries and index objects for later use.</span></span></p></div><div id="https://www.notion.so/56f65c96eef444868eafbc47eb663b0d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorPurple">Step 5: UAT Testing</mark></span></span></p></div><div id="https://www.notion.so/645c1b8e5d2545d28ea056fe7110e5fd" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Wrap the model inference engine in API for client testing. We will receive a text document from the user, encode it with our text encoder, find TopK similar vectors using Indexing object, and retrieve the text documents (and metadata) using dictionaries. We send these documents (and metadata) back to the user.</span></span></p></div><div id="https://www.notion.so/135a3c052c18438f9adbdcc9cd035eb6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorPurple">Step 6: Deployment</mark></span></span></p></div><div id="https://www.notion.so/e14281ef7ef04daa93a661481608e4a1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Deploy the model on cloud or edge as per the requirement.</span></span></p></div><div id="https://www.notion.so/fac5d03e2c104fcdb5e96ade8e319990" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorPurple">Step 7: Documentation</mark></span></span></p></div><div id="https://www.notion.so/907f73010923457cb19d63411e6ae922" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Prepare the documentation and transfer all assets to the client.</span></span></p></div></div><div id="https://www.notion.so/824e8c3b7f0e44b9a67dfe056ab3fa02" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><div id="https://www.notion.so/51c291e2cf6d42ebb8514e273af78cf8" class="ColorfulBlock ColorfulBlock--BgBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Use Cases</strong></span></span></p></div><div id="https://www.notion.so/adfb0294e472469a842128dc5556379a" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Unknown">Semantic Relation Estimation</span></span></span></p></div><div id="https://www.notion.so/c4694a274ee347dcab717120aecdf91c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">To maintain a level of coherence and similarity among various letters and speeches, a model was built that will help in assessing this document similarity. In approach 1, TF-IDF with Latent semantic indexing was used to extract features and cosine similarity as the distance metric. In approach 2, BERT with PCA was used for feature extraction and 3 distance measures - L1, L2, and cosine, for similarity calculation. Check out </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="/085a0be7e70f4dec99a06c07cca3b12c">this</a></span><span class="SemanticString"> notion.</span></span></p></div><div id="https://www.notion.so/37ecd7eaf17040a3bf3f87830f9c1b27" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Unknown">Finding Hardware Parts in Warehouse</span></span></span></p></div><div id="https://www.notion.so/7abfac5b7ac545f6a493e7de75f2c27d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">There are millions of hardware items (e.g. 0.5mm steel wire grade q195) in the warehouse and customer generally asks for items in natural language (e.g. grade195 steel wire with 0.5mm thickness). A text similarity system was built using an ensemble of 3 Bag-of-words based Count vectorizer model with different types of tokenization process and n-gram range. Check out </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="/fa28cf6931a94fa89ad2d4d2183f6bcc">this</a></span><span class="SemanticString"> notion.</span></span></p></div><div id="https://www.notion.so/ceeee40d52384abd9d09b5c00d8d5f1f" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Unknown">Image + Text Similarity</span></span></span></p></div><div id="https://www.notion.so/9d9143fefc8a4046b46c20f42a0b980e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Use the textual details and images of products, find the exact similar product among different groups. Around 35 GB of retail product images was scraped and used to build the system. Checkout the notion </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="/fe5130324ae14ab48a30c93444348f4a">here</a></span><span class="SemanticString">.</span></span></p></div><div id="https://www.notion.so/3f8b08347cc94f6b8296f830be4d34f7" class="ColorfulBlock ColorfulBlock--ColorBlue Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Unknown">Text Recommendation</span></span></span></p></div><div id="https://www.notion.so/b4e8e336cb0946ddb9a6a64c1302625e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">For the given BRM text, recommend top-5 GAO text. We used universal sentence encoder to encode the text and calculated cosine similarity within group. Then an item-based recommender model was used to find most suitable top-K candidates in GAO based on the interaction history. Check out </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="/351c57bdb60e40da8531bf19c867314a#d22ea90200194cec984bfff384c8f546">this</a></span><span class="SemanticString"> notion.</span></span></p></div><div id="https://www.notion.so/e2b69ef102a84e83bc8fa6ad2de411a8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></div></div><div id="https://www.notion.so/8805dc6d28f449d6b2b72b6c5d086ff1" class="Divider"></div><div id="https://www.notion.so/e4eb6df979ae4d329877819a78144b19" class="Divider"></div><div id="https://www.notion.so/f17f139463784f60b25b2dfa90f50f92" class="ColorfulBlock ColorfulBlock--BgGray Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></article>  <footer class="Footer">
        <div>&copy; Welcome to SparshAI 2019</div>
        <div>&centerdot;</div>
        <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
            rel="noopener noreferrer">Notablog</a>.
        </div>
    </footer>
</body>

</html>